<!--
    "StAuth10244: I Utsavkumar Patel, 000820474 certify that this material is my original work.
                  No other person's work has been used without due acknowledgement. 
                  I have not made my work available to anyone else."
-->

<!DOCTYPE html>
<html lang="en">

    <head>
    
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title> Dice Game </title>


        <!-- ReactJS libraries -->
        <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>


        <!-- Babel Compiler -->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>


        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>     
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


        <!-- CSS Link -->
        <link rel="stylesheet" href="style.css"> 


        <!-- React app -->
        <script type="text/babel">



        class Dice extends React.Component
        {
                constructor(props)
                {
                    super(props);
                }


                render()
                    {
                        return (

                        <div className="dice col" key={this.props.id}>
                            <h2>{this.props.value}</h2>
                        </div>   

                        );
                    }
        }


        class DiceCalculations extends React.Component 
        {
                    constructor(props) 
                    {
                        super(props);
                    }

                    render() {
                        
                        //setting initial value ...
                        let totalSumOfDice = 0;
                        let diceValues = [];
                        

                        for (let i = 0; i < this.props.numberOfDice; i++) {
                        
                            // Random number generation function implementation..
                            let value = this.props.reset ? 1 : Math.floor(Math.random() * this.props.numberOfDiceSides);
                            
                            diceValues[i] = {
                                value: value,
                                key: i
                            };
                            
                            totalSumOfDice = totalSumOfDice + value;
                        
                        }

                        const values = diceValues.map(dice => (
                        
                            <Dice 
                                key={dice.key}
                                value={dice.value} 
                               
                            />
                        
                        ));

                        return (
                        
                            <div>
                                
                                <div className="text-center">
                                    
                                    <h2> Sum of Dice: 
                                        {totalSumOfDice}
                                    </h2>
                                
                                </div>
                                
                                <div className="row mr-3 ml-2 justify-content-center">
                                    {values}
                                </div>
                            
                            </div>
                        )
                    }
        }



      


            

            class RollingDiceGame extends React.Component 
            {
                    // The number of dice should initially be set to "1" and the number of sides should initially be set to "6".
                    constructor(props) 
                    {
                                super(props);
                                this.state = 
                                {
                                    numberOfDice: 1,
                                    numberOfDiceSides: 6,
                                    reset: true
                                };
                    }

                  
                    
                    // Handle dice increment function...
                    handleDiceIncrement = () => {
                        this.setState({ numberOfDice: this.state.numberOfDice + 1,
                                        reset: true
                        });
                    }


                     // Handle dice increment function...
                    handleDiceDecrement = () => {  // First checking if numberOfDice is greater than 1...
                        if (this.state.numberOfDice > 1) {
                            this.setState({    numberOfDice: this.state.numberOfDice - 1,
                                               reset: true
                            });
                        }    
                    }

                     
                    // Handling Roll Button Click function...
                    handleRollClick = () => {
                        this.setState({ reset: false
                        });
                    }


                     // Handle dice side increment function...
                    handleSidesIncrement = () => {
                        this.setState({ numberOfDiceSides: this.state.numberOfDiceSides + 1,
                                        reset: true
                        });
                    }


                     // Handle dice decrement function...
                    handleSidesDecrement = () => { if (this.state.numberOfDiceSides > 2)  // The number of sides should have a minimum value of 2
                         {
                            this.setState({
                                numberOfDiceSides: this.state.numberOfDiceSides - 1,
                                reset: true
                            });
                        }    
                    }

                    render() {
                        return (
                            <div className="container">

                                <h1 className="hehehe">Dice Rolling Apk</h1>

                                <div className="mt-5 row">
                                    <div className="col mr-4">
                                        <div className="row border border-dark rounded p-2">

                                            <div className="col hehehe mt-2">
                                                  <h1>{this.state.numberOfDice}</h1>
                                            </div>
                                            
                                            <div className="col buttons">
                                                    
                                                    <div>
                                                        <img 
                                                            src="./images/up.png" 
                                                            onClick={this.handleDiceIncrement}
                                                            width="25px"
                                                            
                                                        />
                                                    </div>
                                                    
                                                    <div className="pt-2">
                                                        <img 
                                                            src="./images/down.png" 
                                                            onClick={this.handleDiceDecrement} 
                                                            width="25px" 
                                                            
                                                     />
                                                </div>

                                            </div>

                                        </div>

                                        <p> # (Number) 0f Dice</p>

                                    </div>




                                    <div className="col mr-4">
                                        
                                        <div className="row border border-dark rounded p-2">

                                            <div className="col hehehe mt-2">
                                                
                                                <h1>
                                                    {this.state.numberOfDiceSides}
                                                </h1>
                                                
                                            </div>
                                        
                                            <div className="col buttons">
                                        
                                                <div>
                                        
                                                    <img 
                                                        src="./images/up.png" 
                                                        onClick={this.handleSidesIncrement}
                                                        width="25px"
                                                        
                                                    />
                                        
                                                </div>
                                    
                                                <div className="pt-2">
                                    
                                                    <img 
                                                        src="./images/down.png" 
                                                        onClick={this.handleSidesDecrement}
                                                        width="25px" 
                                                        
                                                    />
                                    
                                                </div>
                                
                                            </div>
                            
                                        </div>
                        
                                        <p> # (Number) 0f Sides </p>
                        
                                        </div>
                                
                                

                                    <div className="col">
                                        
                                        <button 

                                            onClick={this.handleRollClick}
                                            type="button"
                                            className="btn btn-outline-dark btn-lg"
                                            > 
                                        
                                            Roll Button 
                                        
                                        </button>

                                    </div>

                                </div>
                               
                                <div>
                                    
                                    <DiceCalculations 
                                       
                                        numberOfDice={this.state.numberOfDice} 

                                        numberOfDiceSides={this.state.numberOfDiceSides}

                                        reset={this.state.reset}   
                                                   
                                    />

                                </div>

                            </div>
                    );
                }
            }

            ReactDOM.render(

                <RollingDiceGame />,

                document.querySelector("#dicecontainer")

            );

     </script>

     
</head>
<body>
    
    <div id="dicecontainer"></div>
   
    <br/><br/>
    <br/><br/>
   
    <footer>
        
        <hr/>
        <h3>A#4 Utsavkumar Patel(000820474)...</h3>
    
    </footer>

</body>
</html>